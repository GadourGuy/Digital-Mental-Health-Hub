<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Feedback</title>
    <link href="https://fonts.googleapis.com/css2?family=Arimo:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <style>
        /* 1. CRITICAL NAVBAR STYLES */
        :root {
            --primary: #155DFC;
            --primary-bg: #EFF6FF;
            --border: #E5E7EB;
            --text-dark: #0A0A0A;
            --text-gray: #4A5565;
            --bg-gradient: linear-gradient(135deg, #EFF6FF 0%, #EEF2FF 100%);
            --danger: #E7000B;
        }

        body, html { margin: 0; padding: 0; font-family: 'Arimo', sans-serif; background: var(--bg-gradient); height: 100%; }
        
        .dashboard-container { display: flex; height: 100vh; overflow: hidden; }
        
        /* Sidebar Styling */
        .sidebar { 
            width: 260px; background: white; border-right: 1px solid var(--border); 
            position: fixed; height: 100vh; z-index: 100; display: flex; flex-direction: column;
        }

        .sidebar-header { padding: 24px; border-bottom: 1px solid var(--border); }
        .brand-name { color: var(--primary); font-size: 18px; font-weight: bold; margin-bottom: 4px; }
        .user-welcome { color: var(--text-gray); font-size: 14px; }
        .user-role-badge span {
            display: inline-block; background: #DBEAFE; color: #1447E6; 
            padding: 4px 12px; border-radius: 20px; font-size: 12px; font-weight: bold; margin-top: 8px;
        }

        .nav-links { flex: 1; padding: 16px; overflow-y: auto; display: flex; flex-direction: column; gap: 8px; }
        
        .nav-item {
            display: flex; align-items: center; gap: 12px; padding: 12px 16px;
            border-radius: 10px; text-decoration: none; color: #364153; font-size: 14px; transition: 0.2s;
        }
        .nav-item:hover { background: #F3F4F6; }
        .nav-item.active { background: #DBEAFE; color: var(--primary); font-weight: bold; }
        .item-danger { color: var(--danger); }
        
        .sidebar-footer { padding: 16px; border-top: 1px solid var(--border); margin-top: auto; }
        .logout-btn {
            display: flex; align-items: center; gap: 12px; width: 100%; padding: 10px 16px;
            color: var(--text-dark); text-decoration: none; border: 1px solid var(--border);
            border-radius: 8px; transition: 0.2s; box-sizing: border-box; background: white;
        }
        .logout-btn:hover { background: #F9FAFB; }

        /* ============================
           2. FEEDBACK PAGE CONTENT
           ============================ */
        .main-content { flex: 1; margin-left: 260px; padding: 40px; overflow-y: auto; }
        
        .page-header { margin-bottom: 32px; }
        .page-title { font-size: 24px; color: var(--text-dark); margin-bottom: 8px; font-weight: bold; }
        .page-subtitle { color: var(--text-gray); font-size: 16px; }

        .content-grid { display: grid; grid-template-columns: 2fr 1fr; gap: 32px; max-width: 1200px; }

        /* FORM CARD */
        .feedback-card { background: white; border-radius: 14px; padding: 32px; border: 1px solid var(--border); }

        .form-group { margin-bottom: 24px; }
        .label { display: block; font-weight: bold; margin-bottom: 8px; color: var(--text-dark); }
        .sub-label { display: block; font-size: 14px; color: var(--text-gray); margin-bottom: 12px; }

        /* Star Rating */
        .star-rating { display: flex; gap: 8px; flex-direction: row-reverse; justify-content: flex-end; }
        .star-rating input { display: none; }
        .star-rating label { font-size: 24px; color: #D1D5DB; cursor: pointer; transition: 0.2s; }
        .star-rating input:checked ~ label,
        .star-rating label:hover,
        .star-rating label:hover ~ label { color: #FBBF24; }

        /* Radio Categories */
        .category-group { display: flex; flex-direction: column; gap: 12px; }
        .radio-option { display: flex; align-items: center; gap: 10px; font-size: 14px; cursor: pointer; }
        .radio-option input { accent-color: var(--primary); width: 16px; height: 16px; }

        /* Text Area */
        textarea {
            width: 100%; padding: 16px; border: 1px solid var(--border); border-radius: 8px;
            font-family: 'Arimo', sans-serif; font-size: 14px; resize: vertical; min-height: 120px;
            background: #F9FAFB; box-sizing: border-box;
        }
        textarea:focus { outline: 2px solid var(--primary); background: white; }

        /* Submit Button */
        .submit-btn {
            width: 100%; background: var(--primary); color: white; border: none; padding: 14px;
            border-radius: 8px; font-weight: bold; cursor: pointer; transition: 0.2s; font-size: 14px;
        }
        .submit-btn:hover { background: #1447E6; }

        /* SIDE INFO CARDS */
        .info-card { background: white; border-radius: 14px; padding: 24px; border: 1px solid var(--border); margin-bottom: 24px; }
        .info-title { font-weight: bold; margin-bottom: 12px; font-size: 16px; }
        .info-text { font-size: 14px; color: var(--text-gray); line-height: 1.5; margin-bottom: 16px; }
        
        .update-list { list-style: none; padding: 0; margin: 0; }
        .update-item { display: flex; gap: 12px; margin-bottom: 16px; font-size: 14px; }
        .update-item i { color: #00C950; margin-top: 3px; }

        .confidential-box {
            background: #EFF6FF; border: 1px solid #BEDBFF; border-radius: 10px; padding: 16px;
            display: flex; gap: 12px; font-size: 13px; color: #1E40AF; align-items: start;
        }

        /* Success Message */
        .success-alert {
            background: #DCFCE7; border: 1px solid #86EFAC; color: #166534; 
            padding: 16px; border-radius: 8px; margin-bottom: 24px; display: flex; align-items: center; gap: 12px;
        }

		/* =========================================
           2. SIDEBAR STYLING
           ========================================= */
      .sidebar {
        width: 260px;
        background: white;
        border-right: 1px solid #e5e7eb;
        display: flex;
        flex-direction: column;
        flex-shrink: 0;
        height: 100vh;
        transition: transform 0.3s ease;
      }

      .sidebar-header {
        padding: 24px;
        border-bottom: 1px solid #e5e7eb;
      }
      .brand-name {
        color: var(--primary);
        font-size: 16px;
        font-weight: bold;
        margin-bottom: 8px;
      }
      .user-welcome {
        color: var(--text-gray);
        font-size: 14px;
        margin-bottom: 8px;
      }
      .user-role-badge span {
        background: #dbeafe;
        color: #1447e6;
        padding: 4px 12px;
        border-radius: 20px;
        font-size: 12px;
      }

      .nav-links {
        flex: 1;
        padding: 16px;
        overflow-y: auto;
        display: flex;
        flex-direction: column;
        gap: 8px;
      }

      /* Helper for Icon Alignment */
      .icon-box {
        width: 24px;
        display: flex;
        justify-content: center;
        align-items: center;
        font-size: 18px;
      }

      .nav-item {
        display: flex;
        align-items: center;
        gap: 12px;
        padding: 12px 16px;
        border-radius: 10px;
        text-decoration: none;
        color: #364153;
        font-size: 14px;
        transition: all 0.2s ease;
      }
      .nav-item:hover {
        background: #f3f4f6;
        transform: translateX(5px);
      }
      .nav-item.active {
        background: #dbeafe;
        color: #1447e6;
      }
      .item-danger {
        background: #fef2f2;
        color: var(--danger);
      }
      .item-danger:hover {
        background: #fee2e2;
      }

      .sidebar-footer {
        padding: 16px;
        border-top: 1px solid #e5e7eb;
      }
      .logout-btn {
        display: flex;
        align-items: center;
        gap: 12px;
        padding: 10px 16px;
        color: #0a0a0a;
        text-decoration: none;
        border: 1px solid #e5e7eb;
        border-radius: 8px;
        transition: 0.2s;
      }
      .logout-btn:hover {
        background: #f9fafb;
        border-color: #d1d5db;
      }

    </style>
</head>
<body>

<div class="dashboard-container">
    
    <div th:replace="fragments/Student-navbar :: navbar(activeTab='feedback')"></div>

    <main class="main-content">
        
        <div class="page-header">
            <div class="page-title">Feedback</div>
            <div class="page-subtitle">Help us improve the Mental Health Hub</div>
        </div>

        <div th:if="${successMessage}" class="success-alert">
            <i class="fa-solid fa-check-circle"></i>
            <span th:text="${successMessage}"></span>
        </div>

        <div class="content-grid">
            
            <div class="feedback-card">
                <form th:action="@{/student/feedback/submit}" method="POST">
                    
                    <div class="form-group">
                        <label class="label">Submit Your Feedback</label>
                        <div class="sub-label">Your input helps us create a better experience for everyone</div>
                    </div>

                    <div class="form-group">
                        <label class="label">Overall Experience</label>
                        <div class="star-rating">
                            <input type="radio" name="rating" id="star5" value="5" required><label for="star5" title="Excellent"><i class="fa-solid fa-star"></i></label>
                            <input type="radio" name="rating" id="star4" value="4"><label for="star4" title="Good"><i class="fa-solid fa-star"></i></label>
                            <input type="radio" name="rating" id="star3" value="3"><label for="star3" title="Average"><i class="fa-solid fa-star"></i></label>
                            <input type="radio" name="rating" id="star2" value="2"><label for="star2" title="Poor"><i class="fa-solid fa-star"></i></label>
                            <input type="radio" name="rating" id="star1" value="1"><label for="star1" title="Very Poor"><i class="fa-solid fa-star"></i></label>
                        </div>
                    </div>

                    <div class="form-group">
                        <label class="label">Feedback Category</label>
                        <div class="category-group">
                            <label class="radio-option"><input type="radio" name="category" value="General Feedback" checked> General Feedback</label>
                            <label class="radio-option"><input type="radio" name="category" value="Resources & Content"> Resources & Content</label>
                            <label class="radio-option"><input type="radio" name="category" value="AI Chatbot"> AI Chatbot</label>
                            <label class="radio-option"><input type="radio" name="category" value="User Interface"> User Interface</label>
                            <label class="radio-option"><input type="radio" name="category" value="Bug Report"> Bug Report</label>
                        </div>
                    </div>

                    <div class="form-group">
                        <label class="label">Your Feedback</label>
                        <textarea name="comments" placeholder="Please share your thoughts, suggestions, or concerns in detail..." required></textarea>
                    </div>

                    <div class="sub-label">Be as specific as possible to help us address your feedback.</div>

                    <button type="submit" class="submit-btn"><i class="fa-solid fa-paper-plane"></i> Submit Feedback</button>

                </form>
            </div>

            <div>
                <div class="info-card">
                    <div class="info-title">Why Your Feedback Matters</div>
                    <div class="info-text">Your feedback directly influences the development and improvement of the Mental Health Hub.</div>
                    <div class="info-text">We review every submission and use your insights to make the platform more helpful, accessible, and supportive.</div>
                </div>

                <div class="info-card">
                    <div class="info-title">Recent Improvements</div>
                    <ul class="update-list">
                        <li class="update-item">
                            <i class="fa-regular fa-circle-check"></i>
                            <div><strong>Enhanced Mood Tracker</strong><br><span style="color:var(--text-gray)">Based on student feedback</span></div>
                        </li>
                        <li class="update-item">
                            <i class="fa-regular fa-circle-check"></i>
                            <div><strong>Improved Resource Search</strong><br><span style="color:var(--text-gray)">Suggested by professionals</span></div>
                        </li>
                        <li class="update-item">
                            <i class="fa-regular fa-circle-check"></i>
                            <div><strong>Mobile App Optimization</strong><br><span style="color:var(--text-gray)">Requested by users</span></div>
                        </li>
                    </ul>
                </div>

                <div class="confidential-box">
                    <i class="fa-solid fa-heart"></i>
                    <div>All feedback is reviewed confidentially. Thank you for helping us create a better mental health support platform.</div>
                </div>
            </div>

        </div>
    </main>
</div>

</body>
</html>